<!-- --- START OF FILE bright_ascii_brown_dwarf.html --- -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bright Multi-Color Brown Dwarf</title>
    <style>
        body {
            background-color: #050303;
            margin: 0;
            padding: 0;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }
        canvas {
            image-rendering: optimizeQuality;
        }
    </style>
</head>
<body>

    <canvas id="canvas"></canvas>

    <script>
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d', { alpha: false });

        // --- Configuration ---
        const SPHERE_RADIUS = 0.75; 
        const FONT_SIZE = 12;
        const CHAR_SPACING_X = 7;
        const CHAR_SPACING_Y = 12;
        
        // Character set: Dense to Light
        const CHARS = "NM@#W$9876543210?!abc;:+=-,._ ";

        // --- Colors (Brightened) ---
        // I boosted the base RGB values to make the whole object "pop" more
        const COLOR_COLD = { r: 60,  g: 20,  b: 70 };   // Brighter Purple
        const COLOR_MID  = { r: 220, g: 60,  b: 100 };  // Vivid Magenta/Red
        const COLOR_HOT  = { r: 255, g: 210, b: 140 };  // Glowing Pale Orange

        // --- Math Helpers ---
        function lerp(start, end, t) {
            return start * (1 - t) + end * t;
        }

        function lerpColor(c1, c2, t) {
            return {
                r: Math.floor(lerp(c1.r, c2.r, t)),
                g: Math.floor(lerp(c1.g, c2.g, t)),
                b: Math.floor(lerp(c1.b, c2.b, t))
            };
        }

        function getHeatColor(val) {
            if(val < 0) val = 0; 
            if(val > 1) val = 1;

            if (val < 0.5) {
                let t = val * 2.0; 
                return lerpColor(COLOR_COLD, COLOR_MID, t);
            } else {
                let t = (val - 0.5) * 2.0;
                return lerpColor(COLOR_MID, COLOR_HOT, t);
            }
        }

        // --- Noise / Texture Generation ---
        function getGasTexture(x, y, z, time) {
            // Latitude Bands
            let wavyY = y + Math.sin(x * 3.0 + time * 0.5) * 0.1;
            let band = Math.sin(wavyY * 12.0); 

            // Turbulence
            let turb = Math.sin(x * 6.0 + time) * Math.cos(z * 6.0 + time) * Math.sin(y * 8.0);
            
            // Spots
            let spot = Math.sin(x * 3.5 - time * 0.2) * Math.cos(y * 3.5);

            // Mix
            let noiseVal = band * 0.6 + turb * 0.3 + spot * 0.2;
            
            return (noiseVal + 1.2) / 2.4;
        }

        // --- Resizing ---
        let cols, rows;
        function resize() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            cols = Math.ceil(canvas.width / CHAR_SPACING_X);
            rows = Math.ceil(canvas.height / CHAR_SPACING_Y);
            ctx.font = `bold ${FONT_SIZE}px "Courier New", monospace`;
            ctx.textAlign = "center";
            ctx.textBaseline = "middle";
        }
        window.addEventListener('resize', resize);
        resize();

        // --- Render Loop ---
        let time = 0;

        function render() {
            ctx.fillStyle = "#050303";
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            let rotSpeed = time * 0.4; 
            let cosT = Math.cos(rotSpeed);
            let sinT = Math.sin(rotSpeed);

            let lx = 0.6, ly = 0.4, lz = -0.8;
            let lLen = Math.sqrt(lx*lx + ly*ly + lz*lz);
            lx /= lLen; ly /= lLen; lz /= lLen;

            // GLOW: Made significantly brighter
            let cx = canvas.width / 2;
            let cy = canvas.height / 2;
            let minDim = Math.min(canvas.width, canvas.height);
            let glowRadius = (minDim * SPHERE_RADIUS) * 0.7; // Larger radius
            
            let grd = ctx.createRadialGradient(cx, cy, glowRadius * 0.1, cx, cy, glowRadius * 1.5);
            // Increased alpha opacity for the glow
            grd.addColorStop(0, "rgba(120, 40, 60, 0.35)"); 
            grd.addColorStop(1, "rgba(0, 0, 0, 0)");
            ctx.fillStyle = grd;
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            for (let r = 0; r < rows; r++) {
                let ny = (r / rows) * 2.0 - 1.0;

                for (let c = 0; c < cols; c++) {
                    let nx = ((c / cols) * 2.0 - 1.0) * (canvas.width / canvas.height);

                    let distSq = nx*nx + ny*ny;
                    
                    if (distSq < SPHERE_RADIUS * SPHERE_RADIUS) {
                        let z = Math.sqrt(SPHERE_RADIUS*SPHERE_RADIUS - distSq);

                        let texX = nx * cosT - z * sinT;
                        let texZ = nx * sinT + z * cosT;
                        let texY = ny;

                        // Lighting
                        let diffuse = nx*lx + ny*ly + z*lz;
                        if (diffuse < 0) diffuse = 0;
                        
                        let limb = z / SPHERE_RADIUS; 
                        
                        let pattern = getGasTexture(texX * 3.5, texY * 3.5, texZ * 3.5, time);
                        
                        // BRIGHTNESS TWEAKS:
                        // Increased base ambient light (0.6 instead of 0.4)
                        let litPattern = pattern * (0.6 + diffuse * 0.9);
                        
                        let colorRGB = getHeatColor(litPattern);
                        
                        // Added +0.15 base boost to brightness calculation
                        let brightness = (diffuse * 0.4) + (pattern * 0.6) + 0.15;
                        brightness *= Math.pow(limb, 0.5); 
                        
                        let charIdx = Math.floor((1.0 - brightness) * (CHARS.length - 1));
                        if(charIdx < 0) charIdx = 0;
                        if(charIdx >= CHARS.length) charIdx = CHARS.length - 1;
                        let char = CHARS[charIdx];

                        let alpha = 1.0;
                        if (limb < 0.3) alpha = limb * 3.3; 

                        ctx.fillStyle = `rgba(${colorRGB.r}, ${colorRGB.g}, ${colorRGB.b}, ${alpha})`;
                        ctx.fillText(char, c * CHAR_SPACING_X, r * CHAR_SPACING_Y);
                    }
                }
            }

            time += 0.015;
            requestAnimationFrame(render);
        }

        render();

    </script>
</body>
</html>